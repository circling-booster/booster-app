<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Booster App - API Í¥ÄÎ¶¨ ÌîåÎû´Ìèº</title>
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/responsive.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="index.html">
                <i class="bi bi-rocket-takeoff"></i> Booster App
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="index.html">Ìôà</a>
                    </li>
                    <li class="nav-item" id="nav-dashboard" style="display:none;">
                        <a class="nav-link" href="pages/user/usage-dashboard.html">
                            <i class="bi bi-graph-up"></i> ÎåÄÏãúÎ≥¥Îìú
                        </a>
                    </li>
                    <li class="nav-item" id="nav-admin" style="display:none;">
                        <a class="nav-link" href="pages/admin/users-management.html">
                            <i class="bi bi-gear"></i> Í¥ÄÎ¶¨Ïûê
                        </a>
                    </li>
                    <li class="nav-item" id="nav-user-menu" style="display:none;">
                        <div class="dropdown">
                            <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown">
                                <i class="bi bi-person-circle"></i> <span id="username">ÏÇ¨Ïö©Ïûê</span>
                            </button>
                            <ul class="dropdown-menu dropdown-menu-end">
                                <li><a class="dropdown-item" href="pages/user/profile.html">ÌîÑÎ°úÌïÑ</a></li>
                                <li><a class="dropdown-item" href="pages/user/api-keys.html">API ÌÇ§</a></li>
                                <li><a class="dropdown-item" href="pages/user/subscription.html">Íµ¨ÎèÖ</a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><a class="dropdown-item" href="#" id="logout-btn">Î°úÍ∑∏ÏïÑÏõÉ</a></li>
                            </ul>
                        </div>
                    </li>
                    <li class="nav-item">
                        <button class="btn btn-outline-light" id="theme-toggle">
                            <i class="bi bi-moon"></i>
                        </button>
                    </li>
                    <li class="nav-item" id="nav-auth-menu">
                        <a class="btn btn-primary" href="pages/auth/login.html">Î°úÍ∑∏Ïù∏</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar (User) -->
            <nav class="col-md-2 d-md-block bg-light sidebar" id="sidebar" style="display:none;">
                <div class="position-sticky pt-3">
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link" href="pages/user/usage-dashboard.html">
                                <i class="bi bi-graph-up"></i> ÏÇ¨Ïö©Îüâ ÎåÄÏãúÎ≥¥Îìú
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="pages/user/api-keys.html">
                                <i class="bi bi-key"></i> API ÌÇ§ Í¥ÄÎ¶¨
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="pages/user/profile.html">
                                <i class="bi bi-person"></i> ÌîÑÎ°úÌïÑ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="pages/user/subscription.html">
                                <i class="bi bi-credit-card"></i> Íµ¨ÎèÖ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="pages/user/webhooks.html">
                                <i class="bi bi-webhook"></i> Webhook
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>

            <!-- Main -->
            <main class="col-md-10 ms-sm-auto px-md-4">
                <div class="row mt-5">
                    <div class="col-lg-8 mx-auto">
                        <!-- Welcome Section -->
                        <div id="welcome-section">
                            <h1 class="mb-4">Booster AppÏóê Ïò§Ïã† Í≤ÉÏùÑ ÌôòÏòÅÌï©ÎãàÎã§!</h1>
                            <div class="card mb-3">
                                <div class="card-body">
                                    <p class="card-text">
                                        Booster AppÏùÄ Í∞ïÎ†•Ìïú API Í¥ÄÎ¶¨ ÌîåÎû´ÌèºÏûÖÎãàÎã§.
                                    </p>
                                    <p class="card-text">
                                        <strong>Ï£ºÏöî Í∏∞Îä•:</strong>
                                    </p>
                                    <ul>
                                        <li>üîë API ÌÇ§ Í¥ÄÎ¶¨ Î∞è Î∞úÍ∏â</li>
                                        <li>üìä Ïã§ÏãúÍ∞Ñ ÏÇ¨Ïö©Îüâ Î™®ÎãàÌÑ∞ÎßÅ</li>
                                        <li>üéØ Íµ¨ÎèÖ Í¥ÄÎ¶¨ (Basic, Premium, Enterprise)</li>
                                        <li>üîî Webhook ÏßÄÏõê</li>
                                        <li>üë§ ÏÇ¨Ïö©Ïûê ÌîÑÎ°úÌïÑ Í¥ÄÎ¶¨</li>
                                    </ul>
                                </div>
                            </div>
                            <a href="pages/auth/login.html" class="btn btn-primary btn-lg">ÏãúÏûëÌïòÍ∏∞</a>
                        </div>

                        <!-- Dashboard Section (logged in) -->
                        <div id="dashboard-section" style="display:none;">
                            <h2>ÎåÄÏãúÎ≥¥Îìú</h2>
                            <div class="row mt-4">
                                <div class="col-md-6 mb-3">
                                    <div class="card">
                                        <div class="card-body">
                                            <h5 class="card-title">
                                                <i class="bi bi-graph-up text-primary"></i> ÏÇ¨Ïö©Îüâ
                                            </h5>
                                            <p class="card-text" id="usage-text">Î°úÎî© Ï§ë...</p>
                                            <a href="pages/user/usage-dashboard.html" class="btn btn-sm btn-primary">
                                                ÏÉÅÏÑ∏ Î≥¥Í∏∞
                                            </a>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <div class="card">
                                        <div class="card-body">
                                            <h5 class="card-title">
                                                <i class="bi bi-key text-success"></i> API ÌÇ§
                                            </h5>
                                            <p class="card-text" id="api-key-text">Î°úÎî© Ï§ë...</p>
                                            <a href="pages/user/api-keys.html" class="btn btn-sm btn-success">
                                                Í¥ÄÎ¶¨ÌïòÍ∏∞
                                            </a>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <div class="card">
                                        <div class="card-body">
                                            <h5 class="card-title">
                                                <i class="bi bi-credit-card text-info"></i> Íµ¨ÎèÖ
                                            </h5>
                                            <p class="card-text" id="subscription-text">Î°úÎî© Ï§ë...</p>
                                            <a href="pages/user/subscription.html" class="btn btn-sm btn-info">
                                                Î≥ÄÍ≤ΩÌïòÍ∏∞
                                            </a>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <div class="card">
                                        <div class="card-body">
                                            <h5 class="card-title">
                                                <i class="bi bi-webhook text-warning"></i> Webhook
                                            </h5>
                                            <p class="card-text" id="webhook-text">Î°úÎî© Ï§ë...</p>
                                            <a href="pages/user/webhooks.html" class="btn btn-sm btn-warning">
                                                ÏÑ§Ï†ïÌïòÍ∏∞
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    
    <!-- Scripts -->
    <script src="config.js"></script>
    <script src="assets/js/validation.js"></script>
    <script src="assets/js/auth-manager.js"></script>
    <script src="assets/js/api-client.js"></script>
    <script src="assets/js/utils.js"></script>
    <script src="assets/js/chart-config.js"></script>
    
    <script>
        // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú Ï¥àÍ∏∞Ìôî
        document.addEventListener('DOMContentLoaded', async () => {
            UIUtils.initDarkMode();
            updateNavbar();
            
            // Î°úÍ∑∏Ïù∏ ÏÉÅÌÉúÎ©¥ ÎåÄÏãúÎ≥¥Îìú Ï†ïÎ≥¥ Î°úÎìú
            if (authManager.isLoggedIn()) {
                loadDashboardData();
            }
        });

        // ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò ÏóÖÎç∞Ïù¥Ìä∏
        function updateNavbar() {
            const isLoggedIn = authManager.isLoggedIn();
            const isAdmin = authManager.isAdmin();
            
            if (isLoggedIn) {
                document.getElementById('nav-auth-menu').style.display = 'none';
                document.getElementById('nav-user-menu').style.display = 'block';
                document.getElementById('sidebar').style.display = 'block';
                document.getElementById('welcome-section').style.display = 'none';
                document.getElementById('dashboard-section').style.display = 'block';
                
                const userInfo = authManager.getUserInfo();
                document.getElementById('username').textContent = 
                    `${userInfo?.first_name || ''} ${userInfo?.last_name || ''}`;
                
                if (isAdmin) {
                    document.getElementById('nav-admin').style.display = 'block';
                }
                document.getElementById('nav-dashboard').style.display = 'block';
            }
        }

        // ÎåÄÏãúÎ≥¥Îìú Îç∞Ïù¥ÌÑ∞ Î°úÎìú
        async function loadDashboardData() {
            try {
                // TODO: Í∞Å Ï†ïÎ≥¥ Î°úÎìú
            } catch (err) {
                console.error('ÎåÄÏãúÎ≥¥Îìú Î°úÎìú Ïò§Î•ò:', err);
            }
        }

        // Î°úÍ∑∏ÏïÑÏõÉ
        document.getElementById('logout-btn')?.addEventListener('click', async (e) => {
            e.preventDefault();
            authManager.logout();
            window.location.href = 'index.html';
        });

        // Îã§ÌÅ¨Î™®Îìú ÌÜ†Í∏Ä
        document.getElementById('theme-toggle')?.addEventListener('click', () => {
            UIUtils.toggleDarkMode();
        });
    </script>
</body>
</html>
